package main

import (
	"fmt"
	"log"

	"github.com/dmitriivoitovich/test-assignment-malwarebytes/service"
)

const (
	geoIPDataFilePath = "data/geolite2_city.mmdb"
)

func main() {
	geoIPService, err := service.NewGeoIP(geoIPDataFilePath)
	if err != nil {
		log.Fatal(err)
	}
	defer geoIPService.Close()

	loc, err := geoIPService.LocationByIP("8.8.8.8")
	if err != nil {
		log.Fatal(err)
	}

	fmt.Printf("Coordinates: %v, %v, %v\n", loc.Latitude, loc.Longitude, loc.AccuracyRadius)
}
